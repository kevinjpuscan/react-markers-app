(this["webpackJsonpreact-markers-map"]=this["webpackJsonpreact-markers-map"]||[]).push([[0],{35:function(e,n,t){e.exports=t(50)},40:function(e,n,t){},41:function(e,n,t){},50:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(13),c=t.n(o),i=(t(40),t(41),t(8)),l=t(9),u=t(53),d=t(54),m=t(51),s=t(52),p=t(29),f=t(6),h=t.n(f);function v(){var e=Object(i.a)(['\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-family: "Roboto";\n  font-weight: 700;\n  font-size: 1.5em;\n  background: var(--main);\n  color: white;\n  border-radius: 5px;\n']);return v=function(){return e},e}var g=l.a.div(v());var E=function(e){var n=e.marker;return a.a.createElement(m.a,{position:n.latLon,icon:h.a.divIcon({className:"custom icon",html:Object(p.renderToStaticMarkup)(a.a.createElement(g,null,n.name.substring(0,1).toUpperCase()))})},a.a.createElement(s.a,{direction:"top",offset:[10,-10]},n.name))},b=t(7);var k=Object(b.b)((function(e){return{center:e.controlReducer.centerMap}}),(function(e){return{changePosition:function(n){return e({type:"CHANGE_POSITION_NEW_MARKER",payload:n})}}}))((function(e){var n=e.center,t=e.changePosition,o=Object(r.createRef)();return Object(r.useEffect)((function(){t(n)})),a.a.createElement(m.a,{ref:o,draggable:!0,onDragend:function(){var e=o.current;if(null!=e){var n=e.leafletElement.getLatLng(),r=n.lat,a=n.lng;t([r,a])}},position:n})}));var A=Object(b.b)((function(e){return{center:e.controlReducer.centerMap,zoom:e.controlReducer.zoom,markers:e.markerReducer.markers,isAddMarker:e.controlReducer.isAddMarker}}),(function(e){return{changeCenterMap:function(n){return e({type:"CHANGE_CENTER_MAP",payload:n})},changeZoomMap:function(n){return e({type:"CHANGE_ZOOM_MAP",payload:n})}}}))((function(e){var n=e.center,t=e.markers,r=e.isAddMarker,o=e.changeCenterMap,c=e.zoom,i=e.changeZoomMap;return a.a.createElement("div",null,a.a.createElement(u.a,{center:n,zoom:c,onMoveEnd:function(e){var n=e.target.getCenter(),t=n.lat,r=n.lng;o([t,r])},onZoomEnd:function(e){i(e.target.getZoom())},zoomControl:!1},a.a.createElement(d.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),r&&a.a.createElement(k,null),!r&&t.map((function(e,n){return a.a.createElement(E,{key:n,marker:e})}))))}));function x(){var e=Object(i.a)(["\n  padding: 1em;\n  border-radius: 50%;\n  margin-top: 2em;\n  background: white;\n  opacity: 100%;\n  border: none;\n  box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.15);\n  z-index: 500;\n  cursor: pointer;\n\n  ",";\n\n  ",";\n\n  ",";\n"]);return x=function(){return e},e}var M=l.a.button(x(),(function(e){return e.primary&&" background: var(--main);\n      fill: white;\n    "}),(function(e){return e.danger&&" background: #e93939 ;\n      fill: white;\n    "}),(function(e){return e.small&&" padding: 0.3em;\n    "}));var w=function(e){var n=e.primary,t=e.danger,r=e.small,o=e.onClick,c=e.children;return a.a.createElement(M,{primary:n,danger:t,small:r,onClick:o},c)},y=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"36px",height:"36px"},a.a.createElement("path",{d:"M3 9h14V7H3v2zm0 4h14v-2H3v2zm0 4h14v-2H3v2zm16 0h2v-2h-2v2zm0-10v2h2V7h-2zm0 6h2v-2h-2v2z"}))},O=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"36px",height:"36px"},a.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}))},j=function(e){var n=e.size;return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:n||"36px",height:n||"36px"},a.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}))},R=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"36px",height:"36px"},a.a.createElement("path",{d:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}))};function _(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: ",";\n  justify-content: space-between;\n  width: ",";\n  height: max-content;\n  box-sizing: border-box;\n  padding: 0 2em;\n  position: absolute;\n  right: 0;\n  bottom: ",";\n"]);return _=function(){return e},e}var C=l.a.div(_(),(function(e){return e.isOpen?"row":"column"}),(function(e){return e.isOpen?"100%":"max-content"}),(function(e){return e.isOpen?"190px":"2em"}));var N=Object(b.b)((function(e){return{isPanelOpen:e.controlReducer.isPanelOpen,isAddMarker:e.controlReducer.isAddMarker}}),(function(e){return{handleOpen:function(){return e({type:"CHANGE_PANEL_STATE",payload:!0})},handleClose:function(){return e({type:"CHANGE_PANEL_STATE",payload:!1})},handleAddMarkerForm:function(){return e({type:"CHANGE_ADD_MARKER_STATE",payload:!0})},handleCancelAddMarker:function(){return e({type:"CHANGE_ADD_MARKER_STATE",payload:!1})}}}))((function(e){var n=e.isPanelOpen,t=e.handleOpen,r=e.handleClose,o=e.handleAddMarkerForm,c=e.isAddMarker,i=e.handleCancelAddMarker;return a.a.createElement(C,{isOpen:n},a.a.createElement(w,{primary:!c,danger:c,onClick:c?i:o},c?a.a.createElement(j,null):a.a.createElement(O,null)),a.a.createElement(w,{onClick:n?r:t},n?a.a.createElement(R,null):a.a.createElement(y,null)))}));function z(){var e=Object(i.a)(['\n  margin-right: 1em;\n  position: relative;\n  .container-card {\n    min-width: 120px;\n    height: 120px;\n    font-size: 3em;\n    border-radius: 15px;\n    background: var(--gray-very-light);\n    color: rgba(0, 0, 0, 0.1);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);\n    cursor: pointer;\n  }\n\n  .btn-remove {\n    position: absolute;\n    top: -25px;\n    right: -5px;\n    display: none;\n  }\n\n  .name-card {\n    text-align: center;\n    margin-top: -30px;\n    font-family: "Roboto";\n    color: var(--gray);\n    font-size: 0.75em;\n  }\n\n  &:hover {\n    .container-card {\n      border: 2px solid var(--main);\n      box-sizing: border-box;\n    }\n    .btn-remove {\n      display: block;\n    }\n  }\n']);return z=function(){return e},e}var P=l.a.div(z());var T=Object(b.b)(null,(function(e){return{handleChangeCenter:function(n){return e({type:"CHANGE_CENTER_MAP",payload:n})},handleRemoveMarker:function(n){return e({type:"REMOVE_MARKER",payload:n})}}}))((function(e){var n=e.marker,t=e.idx,r=e.handleChangeCenter,o=e.handleRemoveMarker;return a.a.createElement(P,null,a.a.createElement("div",{className:"container-card",onClick:function(){return r(n.latLon)}},a.a.createElement("span",null,n.name.substring(0,1).toUpperCase())),a.a.createElement("div",{className:"name-card"},n.name),a.a.createElement("div",{className:"btn-remove"},a.a.createElement(w,{small:!0,danger:!0,onClick:function(){return o(t)}},a.a.createElement(j,{size:"12px"}))))}));function H(){var e=Object(i.a)(["\n  width: 100%;\n  height: 220px;\n  box-sizing: border-box;\n  position: absolute;\n  bottom: 0;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);\n  background: white;\n  z-index: 400;\n\n  .card-list {\n    margin-top: 1em;\n    display: flex;\n    max-width: 100%;\n    overflow-x: scroll;\n    padding: 2em;\n  }\n  .new-marker {\n    min-width: 120px;\n    height: 120px;\n    font-size: 1em;\n    border-radius: 15px;\n    background: var(--main);\n    color: white;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);\n    font-weight: 900;\n    cursor: pointer;\n  }\n"]);return H=function(){return e},e}var G=l.a.div(H());var D=Object(b.b)((function(e){return{markers:e.markerReducer.markers}}),(function(e){return{handleAddMarkerForm:function(){return e({type:"CHANGE_ADD_MARKER_STATE",payload:!0})}}}))((function(e){var n=e.markers,t=e.handleAddMarkerForm;return a.a.createElement(G,null,a.a.createElement("div",{className:"card-list"},n.map((function(e,n){return a.a.createElement(T,{marker:e,key:n,idx:n})})),a.a.createElement("div",{className:"new-marker",onClick:t},"New Marker")))})),S=t(25);function K(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  z-index: 900;\n  width: 100%;\n  position: absolute;\n  top: 1em;\n  left: 0;\n  right: 0;\n  & input {\n    height: 40px;\n    width: 250px;\n    font-size: 1em;\n    border: none;\n    padding: 5px 10px;\n  }\n\n  & button {\n    border: none;\n    background: white;\n    color: ",';\n    padding: 0 2em;\n    cursor: pointer;\n    font-family: "Roboto";\n    font-size: 0.8em;\n    font-weight: 700;\n  }\n']);return K=function(){return e},e}var L=l.a.div(K(),(function(e){return e.active?"var(--main)":"var(--gray-light)"}));var B=Object(b.b)((function(e){return{newMarker:e.markerReducer.newMarker}}),(function(e){return{changeName:function(n){return e({type:"CHANGE_NAME_NEW_MARKER",payload:n})},addMarker:function(n){return e({type:"ADD_MARKER",payload:n})},exitModeAddMarker:function(){return e({type:"CHANGE_ADD_MARKER_STATE",payload:!1})}}}))((function(e){var n=e.changeName,t=e.addMarker,o=e.newMarker,c=e.exitModeAddMarker,i=Object(r.useState)(""),l=Object(S.a)(i,2),u=l[0],d=l[1],m=Object(r.useState)(!1),s=Object(S.a)(m,2),p=s[0],f=s[1],h=function(){p&&(t(o),d(""),c())};return a.a.createElement(L,{active:p},a.a.createElement("input",{type:"text",placeholder:"name of marker",onChange:function(e){f(e.target.value.length>0),d(e.target.value),n(e.target.value)},value:u,onKeyDown:function(e){"Enter"===e.key&&h()}}),a.a.createElement("button",{onClick:h},"Save"))}));function I(){var e=Object(i.a)(["\n  height: 100vh;\n"]);return I=function(){return e},e}var W=l.a.div(I());var Z=Object(b.b)((function(e){return{isPanelOpen:e.controlReducer.isPanelOpen,isAddMarker:e.controlReducer.isAddMarker}}),(function(e){return{setCenter:function(n){return e({type:"CHANGE_CENTER_MAP",payload:n})}}}))((function(e){var n=e.isPanelOpen,t=e.isAddMarker,o=e.setCenter;return Object(r.useEffect)((function(){new Promise((function(e,n){"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(n){e(n.coords)})):n("Geolocation no active")})).then((function(e){o([e.latitude,e.longitude])}))}),[o]),a.a.createElement(W,null,t&&a.a.createElement(B,null),a.a.createElement(A,null),a.a.createElement(N,null),n&&a.a.createElement(D,null))})),V=t(14),F=t(4),J={isPanelOpen:!1,isAddMarker:!1,zoom:17,centerMap:[-7.1570213,-78.5173988]},U=t(26),$={markers:[],newMarker:{}},q=Object(V.b)({controlReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"CHANGE_PANEL_STATE":return Object(F.a)(Object(F.a)({},e),{},{isPanelOpen:n.payload});case"CHANGE_ADD_MARKER_STATE":return Object(F.a)(Object(F.a)({},e),{},{isAddMarker:n.payload});case"CHANGE_CENTER_MAP":return Object(F.a)(Object(F.a)({},e),{},{centerMap:n.payload});case"CHANGE_ZOOM_MAP":return Object(F.a)(Object(F.a)({},e),{},{zoom:n.payload});default:return e}},markerReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_MARKER":return Object(F.a)(Object(F.a)({},e),{},{markers:[].concat(Object(U.a)(e.markers),[n.payload])});case"REMOVE_MARKER":var t=Object(U.a)(e.markers);return t.splice(n.payload,1),Object(F.a)(Object(F.a)({},e),{},{markers:t});case"CHANGE_POSITION_NEW_MARKER":return Object(F.a)(Object(F.a)({},e),{},{newMarker:Object(F.a)(Object(F.a)({},e.newMarker),{},{latLon:n.payload})});case"CHANGE_NAME_NEW_MARKER":return Object(F.a)(Object(F.a)({},e),{},{newMarker:Object(F.a)(Object(F.a)({},e.newMarker),{},{name:n.payload})});default:return e}}}),Q=Object(V.c)(q);var X=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(b.a,{store:Q},a.a.createElement(Z,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.dbf7aa61.chunk.js.map